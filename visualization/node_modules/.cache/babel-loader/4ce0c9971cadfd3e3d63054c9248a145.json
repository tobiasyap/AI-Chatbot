{"ast":null,"code":"\"use strict\";\n\nfunction createDummyElement(text, options) {\n  var element = document.createElement('div');\n  var textNode = document.createTextNode(text);\n  element.appendChild(textNode);\n  element.style.fontFamily = options.font;\n  element.style.fontSize = options.fontSize;\n  element.style.fontWeight = options.fontWeight;\n  element.style.position = 'absolute';\n  element.style.visibility = 'hidden';\n  element.style.left = '-999px';\n  element.style.top = '-999px';\n  element.style.width = options.width;\n  element.style.height = 'auto';\n  document.body.appendChild(element);\n  return element;\n}\n\nfunction destroyElement(element) {\n  element.parentNode.removeChild(element);\n}\n\nvar cache = {};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var cacheKey = JSON.stringify({\n    text: text,\n    options: options\n  });\n\n  if (cache[cacheKey]) {\n    return cache[cacheKey];\n  }\n\n  options.font = options.font || 'Times';\n  options.fontSize = options.fontSize || '16px';\n  options.fontWeight = options.fontWeight || 'normal';\n  options.width = options.width || 'auto';\n  var element = createDummyElement(text, options);\n  var size = {\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n  destroyElement(element);\n  cache[cacheKey] = size;\n  return size;\n};","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;AAmBA,SAAA,kBAAA,CAA4B,IAA5B,EAA0C,OAA1C,EAA0D;AACxD,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAhB;AACA,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAT,CAAwB,IAAxB,CAAjB;AAEA,EAAA,OAAO,CAAC,WAAR,CAAoB,QAApB;AAEA,EAAA,OAAO,CAAC,KAAR,CAAc,UAAd,GAA2B,OAAO,CAAC,IAAnC;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,QAAd,GAAyB,OAAO,CAAC,QAAjC;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,UAAd,GAA2B,OAAO,CAAC,UAAnC;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,QAAd,GAAyB,UAAzB;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,UAAd,GAA2B,QAA3B;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,IAAd,GAAqB,QAArB;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,GAAd,GAAoB,QAApB;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,KAAd,GAAsB,OAAO,CAAC,KAA9B;AACA,EAAA,OAAO,CAAC,KAAR,CAAc,MAAd,GAAuB,MAAvB;AAEA,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,OAA1B;AAEA,SAAO,OAAP;AACD;;AAED,SAAA,cAAA,CAAwB,OAAxB,EAA4C;AAC1C,EAAA,OAAO,CAAC,UAAR,CAAmB,WAAnB,CAA+B,OAA/B;AACD;;AAED,IAAM,KAAK,GAAG,EAAd;;;;;AAEA,OAAA,CAAA,OAAA,GAAe,UAAC,IAAD,EAAe,OAAf,EAA4C;AAA7B,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,EAAA;AAA6B;;AAEzD,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAL,CAAe;AAAC,IAAA,IAAI,EAAE,IAAP;AAAa,IAAA,OAAO,EAAE;AAAtB,GAAf,CAAjB;;AAEA,MAAI,KAAK,CAAC,QAAD,CAAT,EAAqB;AACnB,WAAO,KAAK,CAAC,QAAD,CAAZ;AACD;;AAGD,EAAA,OAAO,CAAC,IAAR,GAAe,OAAO,CAAC,IAAR,IAAgB,OAA/B;AACA,EAAA,OAAO,CAAC,QAAR,GAAmB,OAAO,CAAC,QAAR,IAAoB,MAAvC;AACA,EAAA,OAAO,CAAC,UAAR,GAAqB,OAAO,CAAC,UAAR,IAAsB,QAA3C;AACA,EAAA,OAAO,CAAC,KAAR,GAAgB,OAAO,CAAC,KAAR,IAAiB,MAAjC;AAEA,MAAM,OAAO,GAAG,kBAAkB,CAAC,IAAD,EAAO,OAAP,CAAlC;AAEA,MAAM,IAAI,GAAG;AACX,IAAA,KAAK,EAAE,OAAO,CAAC,WADJ;AAEX,IAAA,MAAM,EAAE,OAAO,CAAC;AAFL,GAAb;AAKA,EAAA,cAAc,CAAC,OAAD,CAAd;AAEA,EAAA,KAAK,CAAC,QAAD,CAAL,GAAkB,IAAlB;AAEA,SAAO,IAAP;AACD,CA1BD","sourceRoot":"","sourcesContent":["\"use strict\";\nfunction createDummyElement(text, options) {\n    var element = document.createElement('div');\n    var textNode = document.createTextNode(text);\n    element.appendChild(textNode);\n    element.style.fontFamily = options.font;\n    element.style.fontSize = options.fontSize;\n    element.style.fontWeight = options.fontWeight;\n    element.style.position = 'absolute';\n    element.style.visibility = 'hidden';\n    element.style.left = '-999px';\n    element.style.top = '-999px';\n    element.style.width = options.width;\n    element.style.height = 'auto';\n    document.body.appendChild(element);\n    return element;\n}\nfunction destroyElement(element) {\n    element.parentNode.removeChild(element);\n}\nvar cache = {};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = function (text, options) {\n    if (options === void 0) { options = {}; }\n    var cacheKey = JSON.stringify({ text: text, options: options });\n    if (cache[cacheKey]) {\n        return cache[cacheKey];\n    }\n    options.font = options.font || 'Times';\n    options.fontSize = options.fontSize || '16px';\n    options.fontWeight = options.fontWeight || 'normal';\n    options.width = options.width || 'auto';\n    var element = createDummyElement(text, options);\n    var size = {\n        width: element.offsetWidth,\n        height: element.offsetHeight,\n    };\n    destroyElement(element);\n    cache[cacheKey] = size;\n    return size;\n};\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}