{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('react-scrolllock'), require('framer-motion'), require('react-dom'), require('classnames'), require('popper.js')) : typeof define === 'function' && define.amd ? define(['exports', 'react', 'react-scrolllock', 'framer-motion', 'react-dom', 'classnames', 'popper.js'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.rdk = {}, global.React, global.ScrollLock, global.framerMotion, global.reactDom, global.classNames, global.PopperJS));\n})(this, function (exports, React, ScrollLock, framerMotion, reactDom, classNames, PopperJS) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n  var ScrollLock__default = /*#__PURE__*/_interopDefaultLegacy(ScrollLock);\n\n  var classNames__default = /*#__PURE__*/_interopDefaultLegacy(classNames);\n\n  var PopperJS__default = /*#__PURE__*/_interopDefaultLegacy(PopperJS);\n\n  const useExitListener = _ref => {\n    let {\n      ref,\n      open = true,\n      onClickOutside,\n      onEscape\n    } = _ref;\n    React.useLayoutEffect(() => {\n      const handleClick = event => {\n        const el = ref.current;\n\n        if (!(el === null || el === void 0 ? void 0 : el.contains(event.target)) && event.which !== 3) {\n          onClickOutside === null || onClickOutside === void 0 ? void 0 : onClickOutside(event);\n        }\n      };\n\n      const handleKey = event => {\n        if (event.keyCode === 27) {\n          onEscape === null || onEscape === void 0 ? void 0 : onEscape(event);\n        }\n      };\n\n      if (open) {\n        if (onClickOutside) {\n          document.addEventListener('mousedown', handleClick);\n          document.addEventListener('touchstart', handleClick);\n        }\n\n        if (handleKey) {\n          document.addEventListener('keydown', handleKey);\n        }\n      }\n\n      return () => {\n        if (onClickOutside) {\n          document.removeEventListener('mousedown', handleClick);\n          document.removeEventListener('touchstart', handleClick);\n        }\n\n        if (handleKey) {\n          document.removeEventListener('keydown', handleKey);\n        }\n      };\n    }, [ref, onClickOutside, onEscape, open]);\n  };\n\n  const OverlayContext = React.createContext({\n    close: () => undefined\n  });\n  let id = 0;\n\n  const genId = () => ++id;\n  /**\r\n   * Auto-generate a id.\r\n   * Inspired by: https://github.com/reach/reach-ui/blob/master/packages/auto-id/src/index.ts\r\n   */\n\n\n  const useId = idFromProps => {\n    const [id] = React.useState(idFromProps || genId());\n    return `ref-${id}`;\n  };\n\n  const useUnmount = fn => {\n    const fnRef = React.useRef(fn);\n    fnRef.current = fn;\n    React.useLayoutEffect(() => () => fnRef.current(), []);\n  };\n\n  const Portal = React.forwardRef((_ref2, ref) => {\n    let {\n      children,\n      className,\n      element = 'div',\n      onMount = () => undefined,\n      onUnmount = () => undefined\n    } = _ref2;\n    const elementRef = React.useRef(null);\n    const mounted = React.useRef(false);\n    React.useEffect(() => {\n      if (className && elementRef.current) {\n        elementRef.current.setAttribute('class', `${className} rdk-portal`);\n      }\n    }, [className, elementRef.current]);\n    React.useLayoutEffect(() => {\n      // Create ref to created element once, on mount\n      elementRef.current = document.createElement(element);\n      onMount === null || onMount === void 0 ? void 0 : onMount();\n    }, []);\n    useUnmount(() => {\n      onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount(); // Reference: https://medium.com/trabe/reusable-react-portals-17dead20232b\n\n      window.requestAnimationFrame(() => {\n        if (elementRef.current) {\n          document.body.removeChild(elementRef.current);\n        }\n      });\n    });\n    React.useImperativeHandle(ref, () => elementRef.current);\n\n    if (!elementRef.current) {\n      return null;\n    }\n\n    if (!mounted.current) {\n      mounted.current = true;\n      elementRef.current.classList.add('rdk-portal');\n      document.body.appendChild(elementRef.current);\n    }\n\n    const portal = reactDom.createPortal(children, elementRef.current);\n    return portal;\n  });\n  const portals = [];\n  const START_INDEX = 990;\n  const OverlayPortal = React.forwardRef((_ref3, ref) => {\n    let {\n      className,\n      children,\n      onMount,\n      onUnmount,\n      appendToBody = true\n    } = _ref3;\n    const id = useId();\n    const [portalIndex, setPortalIndex] = React.useState(null);\n    const [overlayIndex, setOverlayIndex] = React.useState(null);\n    const portalRef = React.useRef(null);\n    React.useImperativeHandle(ref, () => portalRef.current);\n    return React__default['default'].createElement(Portal, {\n      className: className,\n      ref: portalRef,\n      appendToBody: appendToBody,\n      onMount: () => {\n        portals.push(id);\n        let pidx = portals.indexOf(id);\n\n        if (pidx === -1) {\n          pidx = 0;\n        }\n\n        setPortalIndex(pidx);\n        const overlayIdx = START_INDEX + pidx * 2 + 1;\n        setOverlayIndex(overlayIdx);\n        onMount === null || onMount === void 0 ? void 0 : onMount({\n          overlayIndex: overlayIdx,\n          portalIndex: pidx,\n          backdropIndex: overlayIdx\n        });\n      },\n      onUnmount: () => {\n        onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\n        portals.splice(portals.indexOf(id), 1);\n        setPortalIndex(null);\n        setOverlayIndex(null);\n      }\n    }, children({\n      overlayIndex,\n      portalIndex,\n      backdropIndex: overlayIndex\n    }));\n  });\n\n  function styleInject(css, ref) {\n    if (ref === void 0) ref = {};\n    var insertAt = ref.insertAt;\n\n    if (!css || typeof document === 'undefined') {\n      return;\n    }\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (insertAt === 'top') {\n      if (head.firstChild) {\n        head.insertBefore(style, head.firstChild);\n      } else {\n        head.appendChild(style);\n      }\n    } else {\n      head.appendChild(style);\n    }\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n\n  var css_248z = \".Backdrop-module_backdrop__2tEGU {\\n  position: fixed;\\n  background: var(--color-layer-transparent);\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  left: 0;\\n  opacity: 0;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\";\n  var css = {\n    \"backdrop\": \"Backdrop-module_backdrop__2tEGU\"\n  };\n  styleInject(css_248z);\n\n  const Backdrop = _ref4 => {\n    let {\n      portalIndex = 0,\n      zIndex = 998,\n      className,\n      onClick = () => undefined\n    } = _ref4;\n    return React__default['default'].createElement(framerMotion.motion.div, {\n      className: classNames__default['default'](css.backdrop, className),\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 0.8 - portalIndex / 10\n      },\n      exit: {\n        opacity: 0\n      },\n      style: {\n        zIndex\n      },\n      onClick: onClick\n    });\n  };\n\n  const GlobalOverlay = _ref5 => {\n    let {\n      open,\n      hasBackdrop = true,\n      closeOnEscape = true,\n      closeOnBackdropClick = true,\n      backdropClassName,\n      children,\n      onClose\n    } = _ref5;\n    const overlayRef = React.useRef(null);\n    const onBackdropClick = React.useCallback(() => {\n      if (closeOnBackdropClick) {\n        onClose === null || onClose === void 0 ? void 0 : onClose();\n      }\n    }, [closeOnBackdropClick, onClose]);\n    useExitListener({\n      ref: overlayRef,\n      open,\n      onEscape: () => closeOnEscape && (onClose === null || onClose === void 0 ? void 0 : onClose())\n    });\n    return React__default['default'].createElement(OverlayContext.Provider, {\n      value: {\n        close: () => onClose === null || onClose === void 0 ? void 0 : onClose()\n      }\n    }, React__default['default'].createElement(framerMotion.AnimatePresence, null, open && React__default['default'].createElement(OverlayPortal, {\n      ref: overlayRef\n    }, _ref6 => {\n      let {\n        overlayIndex,\n        portalIndex\n      } = _ref6;\n      return React__default['default'].createElement(React.Fragment, null, hasBackdrop && React__default['default'].createElement(Backdrop, {\n        zIndex: overlayIndex,\n        portalIndex: portalIndex,\n        onClick: onBackdropClick,\n        className: backdropClassName\n      }), children({\n        overlayIndex,\n        portalIndex\n      }), React__default['default'].createElement(ScrollLock__default['default'], null));\n    })));\n  };\n\n  const OverlayTrigger = React.forwardRef((_ref7, ref) => {\n    let {\n      children,\n      className,\n      elementType = 'span',\n      trigger = ['click'],\n      onOpen = () => undefined,\n      onClose = () => undefined\n    } = _ref7;\n    const hasTrigger = React.useCallback(type => {\n      if (Array.isArray(trigger)) {\n        return trigger.includes(type);\n      } else {\n        return type === trigger;\n      }\n    }, [trigger]);\n    const onFocus = React.useCallback(event => {\n      if (hasTrigger('focus')) {\n        onOpen({\n          type: 'focus',\n          nativeEvent: event\n        });\n      }\n    }, [onOpen, hasTrigger]);\n    const onBlur = React.useCallback(event => {\n      if (hasTrigger('focus')) {\n        onClose({\n          type: 'focus',\n          nativeEvent: event\n        });\n      }\n    }, [onClose, hasTrigger]);\n    const onMouseEnter = React.useCallback(event => {\n      if (hasTrigger('hover')) {\n        onOpen({\n          type: 'hover',\n          nativeEvent: event\n        });\n      }\n    }, [onOpen, hasTrigger]);\n    const onMouseLeave = React.useCallback(event => {\n      if (hasTrigger('hover')) {\n        onClose({\n          type: 'hover',\n          nativeEvent: event\n        });\n      }\n    }, [onClose, hasTrigger]);\n    const onClick = React.useCallback(event => {\n      if (hasTrigger('click')) {\n        onOpen({\n          type: 'click',\n          nativeEvent: event\n        });\n      } // Kill the tooltip on click if its not a click listener\n\n\n      if (!hasTrigger('click')) {\n        onClose({\n          type: 'hover',\n          nativeEvent: event\n        });\n      }\n    }, [onOpen, onClose, hasTrigger]);\n    const onContextMenu = React.useCallback(event => {\n      if (hasTrigger('contextmenu')) {\n        event.preventDefault();\n        onOpen({\n          type: 'contextmenu',\n          nativeEvent: event\n        });\n      }\n    }, [onOpen]);\n    const tabIndex = hasTrigger('focus') ? -1 : undefined;\n    const Component = elementType;\n    return React__default['default'].createElement(Component, {\n      ref: ref,\n      tabIndex: tabIndex,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onClick: onClick,\n      onContextMenu: onContextMenu,\n      className: className\n    }, children);\n  });\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\n\n  function __rest(s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n  }\n\n  const usePosition = function (reference) {\n    let {\n      followCursor,\n      placement,\n      modifiers\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const elementRef = React.useRef(null);\n    const popper = React.useRef(null);\n    const mouse = React.useRef({\n      pageX: 0,\n      pageY: 0\n    }); // Find the real reference pointer for updating\n\n    const refPointer = reference.current;\n    const popperRef = React.useMemo(() => {\n      const refObj = reference;\n\n      if (refObj.current !== undefined) {\n        return refObj.current;\n      }\n\n      const refElement = reference;\n\n      if (followCursor) {\n        return {\n          getBoundingClientRect: () => ({\n            top: mouse.current.pageY,\n            right: mouse.current.pageX,\n            bottom: mouse.current.pageY,\n            left: mouse.current.pageX,\n            width: 0,\n            height: 0\n          }),\n          clientWidth: 0,\n          clientHeight: 0\n        };\n      } else if (refElement && !refElement.getBoundingClientRect) {\n        const {\n          top,\n          left,\n          width,\n          height\n        } = reference;\n        return {\n          getBoundingClientRect: () => ({\n            top,\n            left,\n            width,\n            bottom: top - height,\n            right: left - width,\n            height\n          }),\n          clientWidth: width,\n          clientHeight: height\n        };\n      }\n\n      return refElement;\n    }, [followCursor, reference, refPointer, mouse]);\n    React.useLayoutEffect(() => {\n      let rqf;\n\n      const onMouseMove = _ref8 => {\n        let {\n          pageX,\n          pageY\n        } = _ref8;\n\n        var _a;\n\n        mouse.current = {\n          pageX,\n          pageY\n        };\n        (_a = popper.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\n      };\n\n      const onWindowScroll = () => {\n        rqf = requestAnimationFrame(() => {\n          var _a;\n\n          (_a = popper.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\n        });\n      };\n\n      if (elementRef.current && popperRef) {\n        popper.current = new PopperJS__default['default'](popperRef, elementRef.current, {\n          placement: placement || 'top',\n          modifiers: modifiers || {},\n          onCreate: () => {\n            window.addEventListener('scroll', onWindowScroll);\n\n            if (followCursor) {\n              window.addEventListener('mousemove', onMouseMove);\n            }\n          }\n        });\n      }\n\n      return () => {\n        var _a;\n\n        if (!elementRef.current) {\n          (_a = popper.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          cancelAnimationFrame(rqf);\n          window.removeEventListener('scroll', onWindowScroll);\n\n          if (followCursor) {\n            window.removeEventListener('mousemove', onMouseMove);\n          }\n        }\n      };\n    }, [elementRef.current]);\n    React.useLayoutEffect(() => {\n      if (popper.current) {\n        popper.current.reference = popperRef;\n        popper.current.scheduleUpdate();\n      }\n    }, [popperRef]);\n    return [elementRef, popper];\n  };\n\n  const ConnectedOverlayContent = React.forwardRef((_ref9, ref) => {\n    let {\n      triggerRef,\n      children,\n      portalClassName,\n      closeOnBodyClick = true,\n      closeOnEscape = true,\n      elementType,\n      appendToBody = true,\n      followCursor,\n      modifiers,\n      placement = 'bottom',\n      onClose\n    } = _ref9;\n    const [overlayIndex, setOverlayIndex] = React.useState(null);\n    const [positionRef, popperRef] = usePosition(triggerRef, {\n      followCursor,\n      modifiers,\n      placement\n    });\n    React.useImperativeHandle(ref, () => ({\n      updatePosition: () => {\n        var _a;\n\n        (_a = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\n      }\n    }));\n    useExitListener({\n      open: true,\n      ref: positionRef,\n      onClickOutside: event => {\n        if (closeOnBodyClick) {\n          let ref = null;\n\n          if (triggerRef.current) {\n            ref = triggerRef.current;\n          } else if (triggerRef.contains !== undefined) {\n            ref = triggerRef;\n          }\n\n          if (ref && !ref.contains(event.target)) {\n            onClose === null || onClose === void 0 ? void 0 : onClose(event);\n          }\n        }\n      },\n      onEscape: () => closeOnEscape && (onClose === null || onClose === void 0 ? void 0 : onClose())\n    });\n    React.useEffect(() => {\n      if (positionRef && overlayIndex) {\n        positionRef.current.style.zIndex = overlayIndex;\n      }\n    }, [positionRef.current, overlayIndex]);\n    return React__default['default'].createElement(OverlayPortal, {\n      ref: positionRef,\n      className: portalClassName,\n      elementType: elementType,\n      appendToBody: appendToBody,\n      onMount: event => setOverlayIndex(event.overlayIndex),\n      onUnmount: () => setOverlayIndex(null)\n    }, children);\n  });\n  const ConnectedOverlay = React.forwardRef((_a, ref) => {\n    var {\n      reference,\n      children,\n      open,\n      content,\n      triggerElement,\n      triggerClassName,\n      trigger = 'click',\n      onOpen,\n      onClose\n    } = _a,\n        rest = __rest(_a, [\"reference\", \"children\", \"open\", \"content\", \"triggerElement\", \"triggerClassName\", \"trigger\", \"onOpen\", \"onClose\"]);\n\n    const mounted = React.useRef(false);\n    const overlayTriggerRef = React.useRef(null);\n    const contentRef = React.useRef(null);\n    const triggerRef = reference || overlayTriggerRef;\n    React.useImperativeHandle(ref, () => ({\n      updatePosition: () => {\n        var _a;\n\n        (_a = contentRef.current) === null || _a === void 0 ? void 0 : _a.updatePosition();\n      }\n    }));\n    React.useEffect(() => {\n      if (mounted.current) {\n        if (!open) {\n          onClose === null || onClose === void 0 ? void 0 : onClose();\n        } else {\n          onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n        }\n      } else {\n        mounted.current = true;\n      }\n    }, [open]);\n    return React__default['default'].createElement(OverlayContext.Provider, {\n      value: {\n        close: () => onClose === null || onClose === void 0 ? void 0 : onClose()\n      }\n    }, children && React__default['default'].createElement(React.Fragment, null, trigger ? React__default['default'].createElement(OverlayTrigger, {\n      elementType: triggerElement,\n      ref: overlayTriggerRef,\n      className: triggerClassName,\n      trigger: trigger,\n      onOpen: onOpen,\n      onClose: onClose\n    }, children) : children), React__default['default'].createElement(framerMotion.AnimatePresence, null, open && React__default['default'].createElement(ConnectedOverlayContent, Object.assign({}, rest, {\n      ref: contentRef,\n      triggerRef: triggerRef,\n      onClose: onClose\n    }), content)));\n  });\n\n  const useOverlay = () => {\n    const context = React.useContext(OverlayContext);\n\n    if (context === undefined) {\n      throw new Error('`useOverlay` hook can only be used inside a overlay component.');\n    }\n\n    return context;\n  };\n  /**\r\n   * CloneElement is a wrapper component for createElement function.\r\n   * This allows you to describe your cloning element declaratively\r\n   * which is a more natural API for React.\r\n   */\n\n\n  function CloneElement(_a) {\n    var {\n      children,\n      element,\n      childRef\n    } = _a,\n        rest = __rest(_a, [\"children\", \"element\", \"childRef\"]);\n\n    const getProjectedProps = React.useMemo(() => props => {\n      const childProps = element.props;\n      return Object.keys(props).reduce((acc, key) => {\n        const prop = props[key];\n        const childProp = childProps[key];\n\n        if (typeof prop === 'function' && typeof childProp === 'function') {\n          acc[key] = function () {\n            prop(...arguments);\n            childProp(...arguments);\n          };\n        } else if (key === 'className') {\n          acc[key] = classNames__default['default'](prop, childProp);\n        } else {\n          acc[key] = prop;\n        }\n\n        return acc;\n      }, {});\n    }, [rest]);\n\n    if (element === null) {\n      return children;\n    } // Tricky logic around functional vs class components\n\n\n    const ref = childRef ? node => {\n      if (typeof childRef === 'function') {\n        childRef(node);\n      } else if (ref) {\n        childRef.current = node;\n      }\n    } : undefined;\n    const newProps = getProjectedProps(rest);\n    return React.cloneElement(element, Object.assign(Object.assign(Object.assign({}, element.props), newProps), {\n      children,\n      ref\n    }));\n  }\n\n  exports.Backdrop = Backdrop;\n  exports.CloneElement = CloneElement;\n  exports.ConnectedOverlay = ConnectedOverlay;\n  exports.ConnectedOverlayContent = ConnectedOverlayContent;\n  exports.GlobalOverlay = GlobalOverlay;\n  exports.OverlayContext = OverlayContext;\n  exports.OverlayPortal = OverlayPortal;\n  exports.OverlayTrigger = OverlayTrigger;\n  exports.Portal = Portal;\n  exports.useExitListener = useExitListener;\n  exports.useId = useId;\n  exports.useOverlay = useOverlay;\n  exports.usePosition = usePosition;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["/Users/xuehui/Desktop/NUS_Stuff/AY2122.1_Y4S1/Capstone/lta-visualization/frontend/node_modules/rdk/dist/index.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","rdk","React","ScrollLock","framerMotion","reactDom","classNames","PopperJS","_interopDefaultLegacy","e","React__default","ScrollLock__default","classNames__default","PopperJS__default","useExitListener","ref","open","onClickOutside","onEscape","useLayoutEffect","handleClick","event","el","current","contains","target","which","handleKey","keyCode","document","addEventListener","removeEventListener","OverlayContext","createContext","close","undefined","id","genId","useId","idFromProps","useState","useUnmount","fn","fnRef","useRef","Portal","forwardRef","children","className","element","onMount","onUnmount","elementRef","mounted","useEffect","setAttribute","createElement","window","requestAnimationFrame","body","removeChild","useImperativeHandle","classList","add","appendChild","portal","createPortal","portals","START_INDEX","OverlayPortal","appendToBody","portalIndex","setPortalIndex","overlayIndex","setOverlayIndex","portalRef","push","pidx","indexOf","overlayIdx","backdropIndex","splice","styleInject","css","insertAt","head","getElementsByTagName","style","type","firstChild","insertBefore","styleSheet","cssText","createTextNode","css_248z","Backdrop","zIndex","onClick","motion","div","backdrop","initial","opacity","animate","exit","GlobalOverlay","hasBackdrop","closeOnEscape","closeOnBackdropClick","backdropClassName","onClose","overlayRef","onBackdropClick","useCallback","Provider","value","AnimatePresence","Fragment","OverlayTrigger","elementType","trigger","onOpen","hasTrigger","Array","isArray","includes","onFocus","nativeEvent","onBlur","onMouseEnter","onMouseLeave","onContextMenu","preventDefault","tabIndex","Component","__rest","s","t","p","Object","prototype","hasOwnProperty","call","getOwnPropertySymbols","i","length","propertyIsEnumerable","usePosition","reference","followCursor","placement","modifiers","popper","mouse","pageX","pageY","refPointer","popperRef","useMemo","refObj","refElement","getBoundingClientRect","top","right","bottom","left","width","height","clientWidth","clientHeight","rqf","onMouseMove","_a","scheduleUpdate","onWindowScroll","onCreate","destroy","cancelAnimationFrame","ConnectedOverlayContent","triggerRef","portalClassName","closeOnBodyClick","positionRef","updatePosition","ConnectedOverlay","content","triggerElement","triggerClassName","rest","overlayTriggerRef","contentRef","assign","useOverlay","context","useContext","Error","CloneElement","childRef","getProjectedProps","props","childProps","keys","reduce","acc","key","prop","childProp","node","newProps","cloneElement","defineProperty"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('react-scrolllock'), require('framer-motion'), require('react-dom'), require('classnames'), require('popper.js')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react', 'react-scrolllock', 'framer-motion', 'react-dom', 'classnames', 'popper.js'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.rdk = {}, global.React, global.ScrollLock, global.framerMotion, global.reactDom, global.classNames, global.PopperJS));\n}(this, (function (exports, React, ScrollLock, framerMotion, reactDom, classNames, PopperJS) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n  var ScrollLock__default = /*#__PURE__*/_interopDefaultLegacy(ScrollLock);\n  var classNames__default = /*#__PURE__*/_interopDefaultLegacy(classNames);\n  var PopperJS__default = /*#__PURE__*/_interopDefaultLegacy(PopperJS);\n\n  const useExitListener = ({ ref, open = true, onClickOutside, onEscape }) => {\r\n      React.useLayoutEffect(() => {\r\n          const handleClick = event => {\r\n              const el = ref.current;\r\n              if (!(el === null || el === void 0 ? void 0 : el.contains(event.target)) && event.which !== 3) {\r\n                  onClickOutside === null || onClickOutside === void 0 ? void 0 : onClickOutside(event);\r\n              }\r\n          };\r\n          const handleKey = event => {\r\n              if (event.keyCode === 27) {\r\n                  onEscape === null || onEscape === void 0 ? void 0 : onEscape(event);\r\n              }\r\n          };\r\n          if (open) {\r\n              if (onClickOutside) {\r\n                  document.addEventListener('mousedown', handleClick);\r\n                  document.addEventListener('touchstart', handleClick);\r\n              }\r\n              if (handleKey) {\r\n                  document.addEventListener('keydown', handleKey);\r\n              }\r\n          }\r\n          return () => {\r\n              if (onClickOutside) {\r\n                  document.removeEventListener('mousedown', handleClick);\r\n                  document.removeEventListener('touchstart', handleClick);\r\n              }\r\n              if (handleKey) {\r\n                  document.removeEventListener('keydown', handleKey);\r\n              }\r\n          };\r\n      }, [ref, onClickOutside, onEscape, open]);\r\n  };\n\n  const OverlayContext = React.createContext({\r\n      close: () => undefined\r\n  });\n\n  let id = 0;\r\n  const genId = () => ++id;\r\n  /**\r\n   * Auto-generate a id.\r\n   * Inspired by: https://github.com/reach/reach-ui/blob/master/packages/auto-id/src/index.ts\r\n   */\r\n  const useId = (idFromProps) => {\r\n      const [id] = React.useState(idFromProps || genId());\r\n      return `ref-${id}`;\r\n  };\n\n  const useUnmount = (fn) => {\r\n      const fnRef = React.useRef(fn);\r\n      fnRef.current = fn;\r\n      React.useLayoutEffect(() => () => fnRef.current(), []);\r\n  };\n\n  const Portal = React.forwardRef(({ children, className, element = 'div', onMount = () => undefined, onUnmount = () => undefined }, ref) => {\r\n      const elementRef = React.useRef(null);\r\n      const mounted = React.useRef(false);\r\n      React.useEffect(() => {\r\n          if (className && elementRef.current) {\r\n              elementRef.current.setAttribute('class', `${className} rdk-portal`);\r\n          }\r\n      }, [className, elementRef.current]);\r\n      React.useLayoutEffect(() => {\r\n          // Create ref to created element once, on mount\r\n          elementRef.current = document.createElement(element);\r\n          onMount === null || onMount === void 0 ? void 0 : onMount();\r\n      }, []);\r\n      useUnmount(() => {\r\n          onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\r\n          // Reference: https://medium.com/trabe/reusable-react-portals-17dead20232b\r\n          window.requestAnimationFrame(() => {\r\n              if (elementRef.current) {\r\n                  document.body.removeChild(elementRef.current);\r\n              }\r\n          });\r\n      });\r\n      React.useImperativeHandle(ref, () => elementRef.current);\r\n      if (!elementRef.current) {\r\n          return null;\r\n      }\r\n      if (!mounted.current) {\r\n          mounted.current = true;\r\n          elementRef.current.classList.add('rdk-portal');\r\n          document.body.appendChild(elementRef.current);\r\n      }\r\n      const portal = reactDom.createPortal(children, elementRef.current);\r\n      return portal;\r\n  });\n\n  const portals = [];\r\n  const START_INDEX = 990;\r\n  const OverlayPortal = React.forwardRef(({ className, children, onMount, onUnmount, appendToBody = true }, ref) => {\r\n      const id = useId();\r\n      const [portalIndex, setPortalIndex] = React.useState(null);\r\n      const [overlayIndex, setOverlayIndex] = React.useState(null);\r\n      const portalRef = React.useRef(null);\r\n      React.useImperativeHandle(ref, () => portalRef.current);\r\n      return (React__default['default'].createElement(Portal, { className: className, ref: portalRef, appendToBody: appendToBody, onMount: () => {\r\n              portals.push(id);\r\n              let pidx = portals.indexOf(id);\r\n              if (pidx === -1) {\r\n                  pidx = 0;\r\n              }\r\n              setPortalIndex(pidx);\r\n              const overlayIdx = START_INDEX + pidx * 2 + 1;\r\n              setOverlayIndex(overlayIdx);\r\n              onMount === null || onMount === void 0 ? void 0 : onMount({\r\n                  overlayIndex: overlayIdx,\r\n                  portalIndex: pidx,\r\n                  backdropIndex: overlayIdx\r\n              });\r\n          }, onUnmount: () => {\r\n              onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\r\n              portals.splice(portals.indexOf(id), 1);\r\n              setPortalIndex(null);\r\n              setOverlayIndex(null);\r\n          } }, children({ overlayIndex, portalIndex, backdropIndex: overlayIndex })));\r\n  });\n\n  function styleInject(css, ref) {\n    if ( ref === void 0 ) ref = {};\n    var insertAt = ref.insertAt;\n\n    if (!css || typeof document === 'undefined') { return; }\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (insertAt === 'top') {\n      if (head.firstChild) {\n        head.insertBefore(style, head.firstChild);\n      } else {\n        head.appendChild(style);\n      }\n    } else {\n      head.appendChild(style);\n    }\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n\n  var css_248z = \".Backdrop-module_backdrop__2tEGU {\\n  position: fixed;\\n  background: var(--color-layer-transparent);\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  left: 0;\\n  opacity: 0;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\";\n  var css = {\"backdrop\":\"Backdrop-module_backdrop__2tEGU\"};\n  styleInject(css_248z);\n\n  const Backdrop = ({ portalIndex = 0, zIndex = 998, className, onClick = () => undefined }) => (React__default['default'].createElement(framerMotion.motion.div, { className: classNames__default['default'](css.backdrop, className), initial: { opacity: 0 }, animate: { opacity: 0.8 - portalIndex / 10 }, exit: { opacity: 0 }, style: { zIndex }, onClick: onClick }));\n\n  const GlobalOverlay = ({ open, hasBackdrop = true, closeOnEscape = true, closeOnBackdropClick = true, backdropClassName, children, onClose }) => {\r\n      const overlayRef = React.useRef(null);\r\n      const onBackdropClick = React.useCallback(() => {\r\n          if (closeOnBackdropClick) {\r\n              onClose === null || onClose === void 0 ? void 0 : onClose();\r\n          }\r\n      }, [closeOnBackdropClick, onClose]);\r\n      useExitListener({\r\n          ref: overlayRef,\r\n          open,\r\n          onEscape: () => closeOnEscape && (onClose === null || onClose === void 0 ? void 0 : onClose())\r\n      });\r\n      return (React__default['default'].createElement(OverlayContext.Provider, { value: { close: () => onClose === null || onClose === void 0 ? void 0 : onClose() } },\r\n          React__default['default'].createElement(framerMotion.AnimatePresence, null, open && (React__default['default'].createElement(OverlayPortal, { ref: overlayRef }, ({ overlayIndex, portalIndex }) => (React__default['default'].createElement(React.Fragment, null,\r\n              hasBackdrop && (React__default['default'].createElement(Backdrop, { zIndex: overlayIndex, portalIndex: portalIndex, onClick: onBackdropClick, className: backdropClassName })),\r\n              children({ overlayIndex, portalIndex }),\r\n              React__default['default'].createElement(ScrollLock__default['default'], null))))))));\r\n  };\n\n  const OverlayTrigger = React.forwardRef(({ children, className, elementType = 'span', trigger = ['click'], onOpen = () => undefined, onClose = () => undefined }, ref) => {\r\n      const hasTrigger = React.useCallback((type) => {\r\n          if (Array.isArray(trigger)) {\r\n              return trigger.includes(type);\r\n          }\r\n          else {\r\n              return type === trigger;\r\n          }\r\n      }, [trigger]);\r\n      const onFocus = React.useCallback(event => {\r\n          if (hasTrigger('focus')) {\r\n              onOpen({ type: 'focus', nativeEvent: event });\r\n          }\r\n      }, [onOpen, hasTrigger]);\r\n      const onBlur = React.useCallback(event => {\r\n          if (hasTrigger('focus')) {\r\n              onClose({ type: 'focus', nativeEvent: event });\r\n          }\r\n      }, [onClose, hasTrigger]);\r\n      const onMouseEnter = React.useCallback(event => {\r\n          if (hasTrigger('hover')) {\r\n              onOpen({ type: 'hover', nativeEvent: event });\r\n          }\r\n      }, [onOpen, hasTrigger]);\r\n      const onMouseLeave = React.useCallback(event => {\r\n          if (hasTrigger('hover')) {\r\n              onClose({ type: 'hover', nativeEvent: event });\r\n          }\r\n      }, [onClose, hasTrigger]);\r\n      const onClick = React.useCallback(event => {\r\n          if (hasTrigger('click')) {\r\n              onOpen({ type: 'click', nativeEvent: event });\r\n          }\r\n          // Kill the tooltip on click if its not a click listener\r\n          if (!hasTrigger('click')) {\r\n              onClose({ type: 'hover', nativeEvent: event });\r\n          }\r\n      }, [onOpen, onClose, hasTrigger]);\r\n      const onContextMenu = React.useCallback(event => {\r\n          if (hasTrigger('contextmenu')) {\r\n              event.preventDefault();\r\n              onOpen({ type: 'contextmenu', nativeEvent: event });\r\n          }\r\n      }, [onOpen]);\r\n      const tabIndex = hasTrigger('focus') ? -1 : undefined;\r\n      const Component = elementType;\r\n      return (React__default['default'].createElement(Component, { ref: ref, tabIndex: tabIndex, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onFocus: onFocus, onBlur: onBlur, onClick: onClick, onContextMenu: onContextMenu, className: className }, children));\r\n  });\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n  See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\r\n\r\n  function __rest(s, e) {\r\n      var t = {};\r\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n          t[p] = s[p];\r\n      if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n          for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n              if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                  t[p[i]] = s[p[i]];\r\n          }\r\n      return t;\r\n  }\n\n  const usePosition = (reference, { followCursor, placement, modifiers } = {}) => {\r\n      const elementRef = React.useRef(null);\r\n      const popper = React.useRef(null);\r\n      const mouse = React.useRef({\r\n          pageX: 0,\r\n          pageY: 0\r\n      });\r\n      // Find the real reference pointer for updating\r\n      const refPointer = reference.current;\r\n      const popperRef = React.useMemo(() => {\r\n          const refObj = reference;\r\n          if (refObj.current !== undefined) {\r\n              return refObj.current;\r\n          }\r\n          const refElement = reference;\r\n          if (followCursor) {\r\n              return {\r\n                  getBoundingClientRect: () => ({\r\n                      top: mouse.current.pageY,\r\n                      right: mouse.current.pageX,\r\n                      bottom: mouse.current.pageY,\r\n                      left: mouse.current.pageX,\r\n                      width: 0,\r\n                      height: 0\r\n                  }),\r\n                  clientWidth: 0,\r\n                  clientHeight: 0\r\n              };\r\n          }\r\n          else if (refElement && !refElement.getBoundingClientRect) {\r\n              const { top, left, width, height } = reference;\r\n              return {\r\n                  getBoundingClientRect: () => ({\r\n                      top,\r\n                      left,\r\n                      width,\r\n                      bottom: top - height,\r\n                      right: left - width,\r\n                      height\r\n                  }),\r\n                  clientWidth: width,\r\n                  clientHeight: height\r\n              };\r\n          }\r\n          return refElement;\r\n      }, [followCursor, reference, refPointer, mouse]);\r\n      React.useLayoutEffect(() => {\r\n          let rqf;\r\n          const onMouseMove = ({ pageX, pageY }) => {\r\n              var _a;\r\n              mouse.current = { pageX, pageY };\r\n              (_a = popper.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\r\n          };\r\n          const onWindowScroll = () => {\r\n              rqf = requestAnimationFrame(() => {\r\n                  var _a;\r\n                  (_a = popper.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\r\n              });\r\n          };\r\n          if (elementRef.current && popperRef) {\r\n              popper.current = new PopperJS__default['default'](popperRef, elementRef.current, {\r\n                  placement: placement || 'top',\r\n                  modifiers: modifiers || {},\r\n                  onCreate: () => {\r\n                      window.addEventListener('scroll', onWindowScroll);\r\n                      if (followCursor) {\r\n                          window.addEventListener('mousemove', onMouseMove);\r\n                      }\r\n                  }\r\n              });\r\n          }\r\n          return () => {\r\n              var _a;\r\n              if (!elementRef.current) {\r\n                  (_a = popper.current) === null || _a === void 0 ? void 0 : _a.destroy();\r\n                  cancelAnimationFrame(rqf);\r\n                  window.removeEventListener('scroll', onWindowScroll);\r\n                  if (followCursor) {\r\n                      window.removeEventListener('mousemove', onMouseMove);\r\n                  }\r\n              }\r\n          };\r\n      }, [elementRef.current]);\r\n      React.useLayoutEffect(() => {\r\n          if (popper.current) {\r\n              popper.current.reference = popperRef;\r\n              popper.current.scheduleUpdate();\r\n          }\r\n      }, [popperRef]);\r\n      return [elementRef, popper];\r\n  };\n\n  const ConnectedOverlayContent = React.forwardRef(({ triggerRef, children, portalClassName, closeOnBodyClick = true, closeOnEscape = true, elementType, appendToBody = true, followCursor, modifiers, placement = 'bottom', onClose }, ref) => {\r\n      const [overlayIndex, setOverlayIndex] = React.useState(null);\r\n      const [positionRef, popperRef] = usePosition(triggerRef, {\r\n          followCursor,\r\n          modifiers,\r\n          placement\r\n      });\r\n      React.useImperativeHandle(ref, () => ({\r\n          updatePosition: () => {\r\n              var _a;\r\n              (_a = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\r\n          }\r\n      }));\r\n      useExitListener({\r\n          open: true,\r\n          ref: positionRef,\r\n          onClickOutside: (event) => {\r\n              if (closeOnBodyClick) {\r\n                  let ref = null;\r\n                  if (triggerRef.current) {\r\n                      ref = triggerRef.current;\r\n                  }\r\n                  else if (triggerRef.contains !== undefined) {\r\n                      ref = triggerRef;\r\n                  }\r\n                  if (ref && !ref.contains(event.target)) {\r\n                      onClose === null || onClose === void 0 ? void 0 : onClose(event);\r\n                  }\r\n              }\r\n          },\r\n          onEscape: () => closeOnEscape && (onClose === null || onClose === void 0 ? void 0 : onClose())\r\n      });\r\n      React.useEffect(() => {\r\n          if (positionRef && overlayIndex) {\r\n              positionRef.current.style.zIndex = overlayIndex;\r\n          }\r\n      }, [positionRef.current, overlayIndex]);\r\n      return (React__default['default'].createElement(OverlayPortal, { ref: positionRef, className: portalClassName, elementType: elementType, appendToBody: appendToBody, onMount: (event) => setOverlayIndex(event.overlayIndex), onUnmount: () => setOverlayIndex(null) }, children));\r\n  });\n\n  const ConnectedOverlay = React.forwardRef((_a, ref) => {\r\n      var { reference, children, open, content, triggerElement, triggerClassName, trigger = 'click', onOpen, onClose } = _a, rest = __rest(_a, [\"reference\", \"children\", \"open\", \"content\", \"triggerElement\", \"triggerClassName\", \"trigger\", \"onOpen\", \"onClose\"]);\r\n      const mounted = React.useRef(false);\r\n      const overlayTriggerRef = React.useRef(null);\r\n      const contentRef = React.useRef(null);\r\n      const triggerRef = reference || overlayTriggerRef;\r\n      React.useImperativeHandle(ref, () => ({\r\n          updatePosition: () => {\r\n              var _a;\r\n              (_a = contentRef.current) === null || _a === void 0 ? void 0 : _a.updatePosition();\r\n          }\r\n      }));\r\n      React.useEffect(() => {\r\n          if (mounted.current) {\r\n              if (!open) {\r\n                  onClose === null || onClose === void 0 ? void 0 : onClose();\r\n              }\r\n              else {\r\n                  onOpen === null || onOpen === void 0 ? void 0 : onOpen();\r\n              }\r\n          }\r\n          else {\r\n              mounted.current = true;\r\n          }\r\n      }, [open]);\r\n      return (React__default['default'].createElement(OverlayContext.Provider, { value: { close: () => onClose === null || onClose === void 0 ? void 0 : onClose() } },\r\n          children && (React__default['default'].createElement(React.Fragment, null, trigger ? (React__default['default'].createElement(OverlayTrigger, { elementType: triggerElement, ref: overlayTriggerRef, className: triggerClassName, trigger: trigger, onOpen: onOpen, onClose: onClose }, children)) : (children))),\r\n          React__default['default'].createElement(framerMotion.AnimatePresence, null, open && (React__default['default'].createElement(ConnectedOverlayContent, Object.assign({}, rest, { ref: contentRef, triggerRef: triggerRef, onClose: onClose }), content)))));\r\n  });\n\n  const useOverlay = () => {\r\n      const context = React.useContext(OverlayContext);\r\n      if (context === undefined) {\r\n          throw new Error('`useOverlay` hook can only be used inside a overlay component.');\r\n      }\r\n      return context;\r\n  };\n\n  /**\r\n   * CloneElement is a wrapper component for createElement function.\r\n   * This allows you to describe your cloning element declaratively\r\n   * which is a more natural API for React.\r\n   */\r\n  function CloneElement(_a) {\r\n      var { children, element, childRef } = _a, rest = __rest(_a, [\"children\", \"element\", \"childRef\"]);\r\n      const getProjectedProps = React.useMemo(() => (props) => {\r\n          const childProps = element.props;\r\n          return Object.keys(props).reduce((acc, key) => {\r\n              const prop = props[key];\r\n              const childProp = childProps[key];\r\n              if (typeof prop === 'function' && typeof childProp === 'function') {\r\n                  acc[key] = (...args) => {\r\n                      prop(...args);\r\n                      childProp(...args);\r\n                  };\r\n              }\r\n              else if (key === 'className') {\r\n                  acc[key] = classNames__default['default'](prop, childProp);\r\n              }\r\n              else {\r\n                  acc[key] = prop;\r\n              }\r\n              return acc;\r\n          }, {});\r\n      }, [rest]);\r\n      if (element === null) {\r\n          return children;\r\n      }\r\n      // Tricky logic around functional vs class components\r\n      const ref = childRef\r\n          ? (node) => {\r\n              if (typeof childRef === 'function') {\r\n                  childRef(node);\r\n              }\r\n              else if (ref) {\r\n                  childRef.current = node;\r\n              }\r\n          }\r\n          : undefined;\r\n      const newProps = getProjectedProps(rest);\r\n      return React.cloneElement(element, Object.assign(Object.assign(Object.assign({}, element.props), newProps), { children,\r\n          ref }));\r\n  }\n\n  exports.Backdrop = Backdrop;\n  exports.CloneElement = CloneElement;\n  exports.ConnectedOverlay = ConnectedOverlay;\n  exports.ConnectedOverlayContent = ConnectedOverlayContent;\n  exports.GlobalOverlay = GlobalOverlay;\n  exports.OverlayContext = OverlayContext;\n  exports.OverlayPortal = OverlayPortal;\n  exports.OverlayTrigger = OverlayTrigger;\n  exports.Portal = Portal;\n  exports.useExitListener = useExitListener;\n  exports.useId = useId;\n  exports.useOverlay = useOverlay;\n  exports.usePosition = usePosition;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]},"metadata":{},"sourceType":"script"}