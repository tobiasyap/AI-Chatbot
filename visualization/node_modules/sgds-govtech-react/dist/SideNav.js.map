{"version":3,"sources":["../src/components/SideNav.js"],"names":["SideNav","props","id","isActive","menuItems","onClick","setState","subMenuItems","renderedSubMenuItems","map","subItem","idx","linkChild","children","link","title","err","console","error","message","renderedItems","forEach","item","push","state","mainLinkOnClickHandler","hiddenClass","renderSubMenuItems","listContent","defaultStates","isNotMissingState","dropDownStates","length","renderMenuItems","Component","DropDownLink","dropDownClickHandler","position","computedLinkClass","computedIconClass","SideNavItem","component","componentProps","href","className","SideNavMenuItem","SideNavMenu","initiallyOpen","open","setOpen","e","preventDefault","text"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\n\n// TODO: Take in a onClick handler on the links instead.\n// For accessibility, change a to Button\nclass SideNav extends Component {\n  constructor(props) {\n    super(props);\n\n    let defaultStates = {};\n    this.isNotMissingState = true;\n\n    if (props.menuItems) {\n      this.menuItems = props.menuItems;\n      this.menuItems.forEach((item, idx) => {\n        if (typeof item.isActive === \"boolean\") {\n          defaultStates[`dropdown-${idx}`] = item.isActive;\n        } else {\n          defaultStates[`dropdown-${idx}`] = false;\n        }\n      });\n    }\n    let dropDownStates = defaultStates;\n    this.state = dropDownStates;\n  }\n\n  // Need to write tests to ensure that this works properly\n  mainLinkOnClickHandler = (id, isActive) => {\n    if (this.menuItems[id].onClick) {\n      this.menuItems[id].onClick(id, isActive);\n    }\n    this.setState({ [`dropdown-${id}`]: isActive });\n  };\n  renderSubMenuItems = subMenuItems => {\n    let renderedSubMenuItems = subMenuItems.map((subItem, idx) => {\n      try {\n        let linkChild = subItem.children ? (\n          subItem.children\n        ) : (\n          <a className=\"second-level-nav-item\" href={subItem.link}>\n            {subItem.title}\n          </a>\n        );\n        return <li key={`subItem-${idx}`}>{linkChild}</li>;\n      } catch (err) {\n        console.error(\"Sub Menu Items could not be rendered :\" + err.message);\n        return <div></div>;\n      }\n    });\n    return renderedSubMenuItems;\n  };\n  // Traverses only 2 levels of menu Items\n  renderMenuItems = () => {\n    let renderedItems = [];\n    this.menuItems.forEach((item, idx) => {\n      if (item.subMenuItems) {\n        renderedItems.push(\n          <li key={`mainList-${idx}`} className=\"second-level-nav\">\n            <DropDownLink\n              isActive={this.state[`dropdown-${idx}`]}\n              onClick={this.mainLinkOnClickHandler}\n              key={`dropdown-${idx}`}\n              position={idx}\n            >\n              {item.title}\n            </DropDownLink>\n          </li>\n        );\n        let hiddenClass = this.state[`dropdown-${idx}`] ? \"\" : \"is-hidden\";\n        renderedItems.push(\n          <div\n            key={`subMenuList-${idx}`}\n            className={`second-level-nav-div ${hiddenClass}`}\n          >\n            {this.renderSubMenuItems(item.subMenuItems)}\n          </div>\n        );\n      } else {\n        let listContent = item.children ? (\n          item.children\n        ) : (\n          <a href={item.link}>{item.title}</a>\n        );\n        renderedItems.push(<li key={`mainList-${idx}`}>{listContent}</li>);\n      }\n    });\n    return renderedItems;\n  };\n\n  render() {\n    if (this.props.menuItems && this.props.menuItems.length > 0) {\n      return (\n        <aside className=\"sgds-menu\">\n          <ul className=\"sgds-menu-list\">{this.renderMenuItems()}</ul>\n        </aside>\n      );\n    }\n    return (\n      <aside className=\"sgds-menu\">\n        <ul className=\"sgds-menu-list\">{this.props.children}</ul>\n      </aside>\n    );\n  }\n}\n\n//  TODO : Add accessibility to the framework.\nfunction DropDownLink(props) {\n  const dropDownClickHandler = () => {\n    props.onClick(props.position, !props.isActive);\n  };\n  let computedLinkClass = \"second-level-nav-header \";\n  let computedIconClass = \"sgds-icon \";\n  if (props.isActive) {\n    computedLinkClass += \"is-active\";\n    computedIconClass += \"sgds-icon-chevron-up\";\n  } else {\n    computedIconClass += \"sgds-icon-chevron-down\";\n  }\n  return (\n    <a className={computedLinkClass} onClick={dropDownClickHandler}>\n      {props.children}\n      <i className={computedIconClass} aria-hidden=\"true\"></i>\n    </a>\n  );\n}\n\nexport function SideNavItem(props) {\n  if (props.component) {\n    let componentProps = { ...props };\n    delete componentProps.component;\n    return (\n      <li>\n        <props.component {...componentProps} />\n      </li>\n    );\n  }\n  return (\n    <li>\n      <a\n        href={props.href || \"\"}\n        onClick={props.onClick || (() => {})}\n        className={`${props.className} ${props.isActive ? \"is-active\" : \"\"}`}\n      >\n        {props.children}\n      </a>\n    </li>\n  );\n}\n\nexport function SideNavMenuItem(props) {\n  return (\n    <SideNavItem\n      {...props}\n      className={`second-level-nav-item ${props.className || \"\"}`}\n    ></SideNavItem>\n  );\n}\n\nexport function SideNavMenu(props) {\n  let initiallyOpen = !!props.initiallyOpen;\n  let [open, setOpen] = useState(initiallyOpen);\n  return (\n    <>\n      <li className=\"second-level-nav\">\n        <a\n          href=\"#!\"\n          className={`second-level-nav-header ${\n            props.isActive ? \"is-active\" : \"\"\n          }`}\n          onClick={e => {\n            e.preventDefault();\n            setOpen(!open);\n          }}\n        >\n          {props.text}\n          <i\n            className={`sgds-icon sgds-icon-chevron-${open ? \"up\" : \"down\"} `}\n            aria-hidden={open ? \"false\" : \"true\"}\n          ></i>\n        </a>\n      </li>\n      {open ? <div>{props.children}</div> : null}\n    </>\n  );\n}\n\nexport default SideNav;\n"],"file":"SideNav.js"}